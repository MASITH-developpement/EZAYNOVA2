# Configuration Railway pour Odoo 19 CE
# Ce fichier définit les services nécessaires pour le déploiement

[build]
builder = "DOCKERFILE"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "/entrypoint.sh"
healthcheckPath = "/web/health"
healthcheckTimeout = 100
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

# Variables d'environnement requises
# Ces variables seront automatiquement remplies si vous ajoutez un service PostgreSQL
[deploy.env]
# Base de données PostgreSQL
# Ces valeurs seront automatiquement remplacées par Railway lorsque vous ajoutez PostgreSQL
DB_HOST = "${{Postgres.PGHOST}}"
DB_PORT = "${{Postgres.PGPORT}}"
DB_USER = "${{Postgres.PGUSER}}"
DB_PASSWORD = "${{Postgres.PGPASSWORD}}"
DB_NAME = "${{Postgres.PGDATABASE}}"

# Mot de passe administrateur Odoo (À DÉFINIR MANUELLEMENT)
# IMPORTANT: Changez cette valeur dans l'interface Railway
ADMIN_PASSWORD = "changeme_admin_password"

# Paramètres optionnels
WORKERS = "2"
